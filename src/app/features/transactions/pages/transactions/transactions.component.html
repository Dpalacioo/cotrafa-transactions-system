<section class="p-4 bg-bgLight dark:bg-bgDark max-w-4xl mx-auto space-y-6">
  <h1 class="text-2xl font-bold text-textLight dark:text-textDark mb-4">
    Simulaci√≥n de Transacciones
  </h1>

  <div *ngIf="usersStore.users()">
    <p class="text-sm text-gray-500">
      Usuarios cargados: {{ usersStore.users().length }}
    </p>
  </div>

  <ng-container *ngIf="usersStore.loading(); else usersContent">
    <p class="text-gray-500 dark:text-gray-400">Cargando usuarios...</p>
  </ng-container>

  <ng-template #usersContent>
    <div class="bg-bgLight dark:bg-bgDark rounded-lg shadow p-4">
      <app-user-selector
        [users]="usersStore.users()"
        (userSelected)="onUserSelected($event)"
      ></app-user-selector>
    </div>

    <div
      class="bg-bgLight dark:bg-bgDark rounded-lg shadow p-4 mt-4"
      *ngIf="selectedUserId"
    >
      <app-transaction-form
        (submitTransaction)="onTransactionSubmit($event)"
      ></app-transaction-form>
    </div>
  </ng-template>

  <div class="bg-bgLight dark:bg-bgDark rounded-lg shadow p-4">
    <app-transactions-history></app-transactions-history>
  </div>

  <p *ngIf="usersStore.error()" class="text-red-500 mt-2">
    {{ usersStore.error() }}
  </p>
</section>
