<div class="min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col">
  <app-header (menuToggle)="toggleSidebar()"></app-header>

  <div class="flex flex-1 min-h-0">
    <div
      *ngIf="isSidebarOpen"
      class="md:hidden fixed inset-0 bg-black bg-opacity-50 z-40"
      (click)="closeSidebar()"
    ></div>

    <aside
      class="fixed md:relative top-0 left-0 h-screen md:h-auto bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 z-50 transition-all duration-300 md:translate-x-0 flex-shrink-0"
      [class.translate-x-0]="isSidebarOpen"
      [class.-translate-x-full]="!isSidebarOpen"
      [class.w-64]="!isSidebarCollapsed"
      [class.w-16]="isSidebarCollapsed"
    >
      <app-sidebar
        [collapsed]="isSidebarCollapsed"
        (close)="closeSidebar()"
        (toggleCollapse)="toggleSidebarCollapse()"
      ></app-sidebar>
    </aside>

    <main
      class="flex-1 p-4 md:p-6 overflow-auto bg-gray-50 dark:bg-gray-900 min-h-0 transition-all duration-300 pt-16"
    >
      <router-outlet></router-outlet>
    </main>
  </div>

  <app-footer></app-footer>
</div>
